<UserControl x:Class="RPRO.App.Views.DashboardAmendoimView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="White"
             HorizontalAlignment="Stretch"
             VerticalAlignment="Stretch">

    <Grid Background="White" HorizontalAlignment="Stretch" VerticalAlignment="Stretch">
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="24">
                <TextBlock Text="Dashboard de Amendoim" 
                           FontSize="28"
                           FontWeight="Bold"
                           Foreground="#1E88E5"
                           Margin="0,0,0,16"/>
                
                <TextBlock Text="Análise de rendimento e perdas" 
                           FontSize="14"
                           Foreground="Gray"
                           Margin="0,0,0,24"/>
                
                <!-- Métricas em Grid -->
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    
                    <!-- Peso Entrada -->
                    <Border Grid.Column="0" Background="#F5F5F5" Padding="16" CornerRadius="8" Margin="0,0,8,0">
                        <StackPanel>
                            <TextBlock Text="Peso Entrada" FontSize="12" Foreground="Gray"/>
                            <TextBlock Text="{Binding PesoEntrada, StringFormat={}{0:N2}}" 
                                       FontSize="20" 
                                       FontWeight="Bold" 
                                       Foreground="#43A047"
                                       Margin="0,8,0,0"/>
                            <TextBlock Text="kg" FontSize="10" Foreground="Gray"/>
                        </StackPanel>
                    </Border>
                    
                    <!-- Peso Saída -->
                    <Border Grid.Column="1" Background="#F5F5F5" Padding="16" CornerRadius="8" Margin="4,0,4,0">
                        <StackPanel>
                            <TextBlock Text="Peso Saída" FontSize="12" Foreground="Gray"/>
                            <TextBlock Text="{Binding PesoSaida, StringFormat={}{0:N2}}" 
                                       FontSize="20" 
                                       FontWeight="Bold" 
                                       Foreground="#1E88E5"
                                       Margin="0,8,0,0"/>
                            <TextBlock Text="kg" FontSize="10" Foreground="Gray"/>
                        </StackPanel>
                    </Border>
                    
                    <!-- Perda -->
                    <Border Grid.Column="2" Background="#F5F5F5" Padding="16" CornerRadius="8" Margin="4,0,4,0">
                        <StackPanel>
                            <TextBlock Text="Perda Total" FontSize="12" Foreground="Gray"/>
                            <TextBlock Text="{Binding Perda, StringFormat={}{0:N2}}" 
                                       FontSize="20" 
                                       FontWeight="Bold" 
                                       Foreground="#E53935"
                                       Margin="0,8,0,0"/>
                            <TextBlock Text="kg" FontSize="10" Foreground="Gray"/>
                        </StackPanel>
                    </Border>
                    
                    <!-- Rendimento % -->
                    <Border Grid.Column="3" Background="#F5F5F5" Padding="16" CornerRadius="8" Margin="8,0,0,0">
                        <StackPanel>
                            <TextBlock Text="Rendimento" FontSize="12" Foreground="Gray"/>
                            <TextBlock Text="{Binding RendimentoPercentual, StringFormat={}{0:N1}%}" 
                                       FontSize="20" 
                                       FontWeight="Bold" 
                                       Foreground="#FB8C00"
                                       Margin="0,8,0,0"/>
                        </StackPanel>
                    </Border>
                </Grid>
                
                <!-- Loading -->
                <StackPanel Margin="0,32,0,0"
                           Visibility="{Binding IsLoading, Converter={StaticResource BooleanToVisibilityConverter}}">
                    <ProgressBar IsIndeterminate="True" Height="4" Margin="0,0,0,8"/>
                    <TextBlock Text="Carregando dados..." Foreground="Gray"/>
                </StackPanel>
                
                <!-- Erro -->
                <Border Background="#FFEBEE" 
                       CornerRadius="8" 
                       Padding="16"
                       Margin="0,32,0,0"
                       Visibility="{Binding ErrorMessage, Converter={StaticResource StringToVisibilityConverter}}">
                    <TextBlock Text="{Binding ErrorMessage}" 
                              Foreground="#C62828"
                              TextWrapping="Wrap"/>
                </Border>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>