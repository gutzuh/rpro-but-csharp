<UserControl x:Class="RPRO.App.Views.RelatorioView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="White">

    <Grid Background="White">
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="24">
                <TextBlock Text="Relatórios de Dados" 
                           FontSize="28"
                           FontWeight="Bold"
                           Foreground="#1E88E5"
                           Margin="0,0,0,16"/>
                
                <TextBlock Text="{Binding TotalItens, StringFormat='Total: {0:N0} registros'}" 
                           FontSize="14"
                           Foreground="Gray"
                           Margin="0,0,0,24"/>
                
                <!-- Tipo -->
                <StackPanel Margin="0,0,0,24">
                    <TextBlock Text="Visualizar:" FontSize="12" FontWeight="Bold" Margin="0,0,0,8"/>
                    <StackPanel Orientation="Horizontal">
                        <RadioButton Content="Ração" 
                                    IsChecked="{Binding TipoVisualizacao, Converter={StaticResource EqualityConverter}, ConverterParameter=racao}"
                                    Margin="0,0,16,0"/>
                        <RadioButton Content="Amendoim" 
                                    IsChecked="{Binding TipoVisualizacao, Converter={StaticResource EqualityConverter}, ConverterParameter=amendoim}"/>
                    </StackPanel>
                </StackPanel>
                
                <!-- Filtros -->
                <Border Background="#F5F5F5" Padding="16" CornerRadius="8" Margin="0,0,0,24">
                    <StackPanel>
                        <TextBlock Text="Filtros" FontWeight="Bold" Margin="0,0,0,12"/>
                        <StackPanel Orientation="Horizontal">
                            <StackPanel Margin="0,0,16,0">
                                <TextBlock Text="De:" FontSize="11" Foreground="Gray"/>
                                <DatePicker SelectedDate="{Binding DataInicio}" Width="120"/>
                            </StackPanel>
                            <StackPanel Margin="0,0,16,0">
                                <TextBlock Text="Até:" FontSize="11" Foreground="Gray"/>
                                <DatePicker SelectedDate="{Binding DataFim}" Width="120"/>
                            </StackPanel>
                            <Button Command="{Binding LoadDataCommand}" Content="Atualizar" Padding="12,4"/>
                        </StackPanel>
                    </StackPanel>
                </Border>
                
                <!-- Dados -->
                <Border Background="#F5F5F5" Padding="16" CornerRadius="8">
                    <StackPanel>
                        <TextBlock Text="Dados carregados" FontWeight="Bold"/>
                        <TextBlock Text="{Binding DadosRacao.Count, StringFormat='Ração: {0} registros'}" 
                                  Foreground="Gray"
                                  Margin="0,8,0,0"/>
                        <TextBlock Text="{Binding DadosAmendoim.Count, StringFormat='Amendoim: {0} registros'}" 
                                  Foreground="Gray"
                                  Margin="0,4,0,0"/>
                    </StackPanel>
                </Border>
                
                <!-- Loading -->
                <StackPanel Margin="0,32,0,0"
                           Visibility="{Binding IsLoading, Converter={StaticResource BooleanToVisibilityConverter}}">
                    <ProgressBar IsIndeterminate="True" Height="4" Margin="0,0,0,8"/>
                    <TextBlock Text="Carregando dados..." Foreground="Gray"/>
                </StackPanel>
                
                <!-- Erro -->
                <Border Background="#FFEBEE" 
                       CornerRadius="8" 
                       Padding="16"
                       Margin="0,32,0,0"
                       Visibility="{Binding ErrorMessage, Converter={StaticResource StringToVisibilityConverter}}">
                    <TextBlock Text="{Binding ErrorMessage}" 
                              Foreground="#C62828"
                              TextWrapping="Wrap"/>
                </Border>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>
