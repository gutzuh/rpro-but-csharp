<UserControl x:Class="RPRO.App.Views.ConfiguracoesView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Background="White">

    <Grid Background="White">
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="24">
                <TextBlock Text="Configurações" 
                           FontSize="28"
                           FontWeight="Bold"
                           Foreground="#9C27B0"
                           Margin="0,0,0,24"/>
                
                <!-- Banco de Dados -->
                <Border Background="#F5F5F5" Padding="16" CornerRadius="8" Margin="0,0,0,24">
                    <StackPanel>
                        <TextBlock Text="Banco de Dados" FontWeight="Bold" Margin="0,0,0,12"/>
                        <TextBlock Text="{Binding DbStatus}" Foreground="Gray" TextWrapping="Wrap"/>
                        <Button Command="{Binding TestarConexaoCommand}" 
                               Content="Testar Conexão" 
                               Padding="12,6"
                               Margin="0,12,0,0"/>
                    </StackPanel>
                </Border>
                
                <!-- Matérias-Primas -->
                <Border Background="#F5F5F5" Padding="16" CornerRadius="8" Margin="0,0,0,24">
                    <StackPanel>
                        <TextBlock Text="Matérias-Primas" FontWeight="Bold" Margin="0,0,0,12"/>
                        <TextBlock Text="{Binding MateriasPrimas.Count, StringFormat='Total: {0} itens'}" 
                                  Foreground="Gray"/>
                        <TextBlock Text="Clique em um item para editar" 
                                  FontSize="11"
                                  Foreground="Gray"
                                  Margin="0,8,0,0"/>
                    </StackPanel>
                </Border>
                
                <!-- Usuários -->
                <Border Background="#F5F5F5" Padding="16" CornerRadius="8" Margin="0,0,0,24">
                    <StackPanel>
                        <TextBlock Text="Usuários" FontWeight="Bold" Margin="0,0,0,12"/>
                        <TextBlock Text="{Binding Usuarios.Count, StringFormat='Total: {0} usuários'}" 
                                  Foreground="Gray"/>
                        <TextBlock Text="Gerenciar usuários do sistema" 
                                  FontSize="11"
                                  Foreground="Gray"
                                  Margin="0,8,0,0"/>
                    </StackPanel>
                </Border>
                
                <!-- Mensagem -->
                <Border Background="#E8F5E9" 
                       CornerRadius="8" 
                       Padding="16"
                       Visibility="{Binding Mensagem, Converter={StaticResource StringToVisibilityConverter}}"
                       Margin="0,32,0,0">
                    <StackPanel>
                        <TextBlock Text="{Binding Mensagem}" 
                                  Foreground="DarkGreen"
                                  TextWrapping="Wrap"/>
                    </StackPanel>
                </Border>
                
                <!-- Loading -->
                <StackPanel Margin="0,32,0,0"
                           Visibility="{Binding IsLoading, Converter={StaticResource BooleanToVisibilityConverter}}">
                    <ProgressBar IsIndeterminate="True" Height="4" Margin="0,0,0,8"/>
                    <TextBlock Text="Carregando..." Foreground="Gray"/>
                </StackPanel>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>
